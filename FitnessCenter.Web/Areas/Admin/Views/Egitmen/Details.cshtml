@model FitnessCenter.Web.Models.Entities.Egitmen
@{
    ViewData["Title"] = "Eğitmen Detay";
}

<div class="container-fluid py-4">
    <div class="d-flex justify-content-between align-items-center mb-4">
        <h2>@Model.AdSoyad</h2>
        <div class="d-flex gap-2">
            <a asp-action="Edit" asp-route-id="@Model.Id" class="btn btn-primary">Düzenle</a>
            <a asp-action="Index" class="btn btn-outline-secondary">Listeye Dön</a>
        </div>
    </div>

    <div class="row g-4">
        <div class="col-lg-6">
            <div class="card mb-4">
                <div class="card-header">Kişisel Bilgiler</div>
                <div class="card-body">
                    <dl class="row mb-0">
                        <dt class="col-sm-4">Ad Soyad</dt>
                        <dd class="col-sm-8">@Model.AdSoyad</dd>
                        
                        <dt class="col-sm-4">E-posta</dt>
                        <dd class="col-sm-8">@(Model.Email ?? "-")</dd>
                        
                        <dt class="col-sm-4">Telefon</dt>
                        <dd class="col-sm-8">@(Model.Telefon ?? "-")</dd>
                        
                        <dt class="col-sm-4">Kullanıcı Adı</dt>
                        <dd class="col-sm-8">@(Model.KullaniciAdi ?? "-")</dd>
                        
                        <dt class="col-sm-4">Şifre</dt>
                        <dd class="col-sm-8"><code>@(Model.SifreHash ?? "-")</code></dd>
                    </dl>
                </div>
            </div>

            <div class="card mb-4">
                <div class="card-header">Çalışma Bilgileri</div>
                <div class="card-body">
                    <dl class="row mb-0">
                        <dt class="col-sm-4">Şube</dt>
                        <dd class="col-sm-8">
                            @if (Model.Salon != null)
                            {
                                <span class="badge bg-primary">@Model.Salon.Ad</span>
                            }
                            else
                            {
                                <span class="text-muted">Atanmamış</span>
                            }
                        </dd>
                        
                        <dt class="col-sm-4">Maaş</dt>
                        <dd class="col-sm-8">
                            @if (Model.Maas.HasValue)
                            {
                                <strong class="text-success">@Model.Maas?.ToString("C0")</strong>
                            }
                            else
                            {
                                <span class="text-muted">Belirlenmemiş</span>
                            }
                        </dd>
                        
                        <dt class="col-sm-4">Durum</dt>
                        <dd class="col-sm-8">
                            @if (Model.Aktif)
                            {
                                <span class="badge bg-success">Aktif</span>
                            }
                            else
                            {
                                <span class="badge bg-danger">Pasif</span>
                            }
                        </dd>
                    </dl>
                </div>
            </div>
        </div>

        <div class="col-lg-6">
            <div class="card mb-4">
                <div class="card-header">Uzmanlık Alanları</div>
                <div class="card-body">
                    @if (Model.EgitmenUzmanliklari?.Any() == true)
                    {
                        <div class="d-flex flex-wrap gap-2">
                            @foreach (var eu in Model.EgitmenUzmanliklari)
                            {
                                <span class="badge bg-info fs-6 py-2 px-3">@eu.UzmanlikAlani?.Ad</span>
                            }
                        </div>
                    }
                    else
                    {
                        <span class="text-muted">Uzmanlık alanı atanmamış</span>
                    }
                </div>
            </div>

            <div class="card mb-4">
                <div class="card-header">Yapabileceği Hizmetler</div>
                <div class="card-body p-0">
                    @if (Model.EgitmenHizmetler?.Any() == true)
                    {
                        <table class="table table-sm mb-0">
                            <thead class="table-light">
                                <tr>
                                    <th>Hizmet Adi</th>
                                    <th class="text-center">Sure</th>
                                </tr>
                            </thead>
                            <tbody>
                                @foreach (var eh in Model.EgitmenHizmetler.OrderBy(x => x.Hizmet?.Ad))
                                {
                                    <tr>
                                        <td>
                                            <span class="badge bg-success">@eh.Hizmet?.Ad</span>
                                        </td>
                                        <td class="text-center">@eh.Hizmet?.SureDakika dk</td>
                                    </tr>
                                }
                            </tbody>
                        </table>
                    }
                    else
                    {
                        <div class="p-3 text-muted">Bu eğitmene henüz hizmet atanmamış.</div>
                    }
                </div>
            </div>

            <div class="card mb-4">
                <div class="card-header">Çalışma Saatleri</div>
                <div class="card-body p-0">
                    @if (Model.Musaitlikler?.Any() == true)
                    {
                        <table class="table table-sm mb-0">
                            <tbody>
                                @foreach (var m in Model.Musaitlikler.OrderBy(x => x.Gun))
                                {
                                    var gunAdi = m.Gun switch
                                    {
                                        DayOfWeek.Monday => "Pazartesi",
                                        DayOfWeek.Tuesday => "Salı",
                                        DayOfWeek.Wednesday => "Çarşamba",
                                        DayOfWeek.Thursday => "Perşembe",
                                        DayOfWeek.Friday => "Cuma",
                                        DayOfWeek.Saturday => "Cumartesi",
                                        DayOfWeek.Sunday => "Pazar",
                                        _ => m.Gun.ToString()
                                    };
                                    <tr>
                                        <td class="fw-medium">@gunAdi</td>
                                        <td>@m.BaslangicSaati.ToString(@"hh\:mm") - @m.BitisSaati.ToString(@"hh\:mm")</td>
                                    </tr>
                                }
                            </tbody>
                        </table>
                    }
                    else
                    {
                        <div class="p-3 text-muted">Çalışma saatleri belirlenmemiş</div>
                    }
                </div>
            </div>

            @if (!string.IsNullOrEmpty(Model.Biyografi))
            {
                <div class="card">
                    <div class="card-header">Biyografi</div>
                    <div class="card-body">
                        <p class="mb-0">@Model.Biyografi</p>
                    </div>
                </div>
            }
        </div>
    </div>
</div>
